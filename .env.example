### INPUTS ###

# Last.fm API Configuration
# Get your API key at: https://www.last.fm/api/account/create
LASTFM_API_KEY=your_api_key_here

# Library Data Source
# USE_APPLE_EXPORT: Use Apple Music export data (streaming history) instead of iTunes Library.xml
# Recommended for users who stream music (includes all Apple Music plays, not just local library)
# To get your export:
#   1. Go to privacy.apple.com
#   2. Request a copy of your data
#   3. Select 'Apple Media Services information'
#   4. Extract the archive and find the 'Apple Music Activity' folder
# Set to 'true' to use Apple Music export, 'false' to use iTunes Library.xml (default)
USE_APPLE_EXPORT=false

# Path to 'Apple Music Activity' folder from Apple export (required if USE_APPLE_EXPORT=true)
# Example: $HOME/Downloads/Apple Media Services information Part 1 of 2/Apple_Media_Services/Apple Music Activity/
APPLE_EXPORT_DIR=$HOME/Downloads/Apple Media Services information Part 1 of 2/Apple_Media_Services/Apple Music Activity/

# Apple Music Web API Tokens (Optional - for creating playlists)
# Extract these from browser when logged into https://music.apple.com
# Dev Token: Found if you search in the network requests tab of the browser dev tools
# Media User Token: Found in browser cookies/storage (right click -> inspect -> storage)
# Note: These tokens expire periodically and need to be refreshed from browser
APPLE_MUSIC_WEB_DEV_TOKEN=
APPLE_MUSIC_WEB_MEDIA_USER_TOKEN=


### SETTINGS ###
MAX_RECOMMENDATIONS=60

# Minimum plays threshold
KNOWN_ARTIST_MIN_PLAY_COUNT=2

# OR: Minimum tracks in library threshold
# Useful for streaming users where play counts may be 0 but you have many tracks added
KNOWN_ARTIST_MIN_TRACKS=3

# LOVED ARTISTS (used for building taste profile):
# Artists that match any of these criteria are used to find similar artists

# High play count alone qualifies as "loved"
LOVED_PLAY_COUNT_THRESHOLD=20

# OR: High rating with minimum plays qualifies as "loved"
# Minimum star rating (1-5 scale) of artist's highest-rated track (in Apple music "loved" is 4 or 5 stars)
LOVED_MIN_TRACK_RATING=4
# Minimum total plays across all tracks by that artist
LOVED_MIN_ARTIST_PLAYS=10

# DISLIKED ARTISTS (filtered from recommendations):
# Artists with N or more disliked tracks AND no loved tracks are excluded from recommendations
# Minimum number of disliked tracks required to filter out an artist (default: 2)
LIB_DISLIKED_MIN_TRACK_COUNT=2

# Cache Settings
CACHE_EXPIRY_DAYS=60
# How long to keep cached recommendations (in days)
# Recommendations are automatically regenerated if cache expires or rarity preference changes
REC_CACHE_EXPIRY_DAYS=7

# Performance Settings
# Number of concurrent API requests (higher = faster but more aggressive, default: 10)
MAX_CONCURRENT_REQUESTS=20

# Maximum API requests per second (default: 5, Last.fm limit is 5 req/sec)
MAX_REQUESTS_PER_SECOND=5

# Rarity Preference: 1-15 scale
# 1 = most popular artists, 15 = most obscure/underground artists, 7 = balanced (default)
# 1-5: Mainstream, 6-10: Balanced, 11-15: Very obscure
RARITY_PREFERENCE=8

# Advanced Recommendation Features (Optional)
# Tag Similarity: Match recommendations to your music taste profile (true/false)
ENABLE_TAG_SIMILARITY=false

# Play Frequency Weighting: Prioritise recommendations from your most-played artists (true/false)
ENABLE_PLAY_FREQUENCY_WEIGHTING=false

# Time Filter: Only consider artists played in last N months (0 = all time)
LAST_MONTHS_FILTER=0

# Tag Similarity Ignore List: Tags ignored when calculating similarity scores
# These tags are excluded from your taste profile and similarity matching
# Artists with these tags can still be recommended, but these specific tags won't affect scoring
# Example: pop,christmas,instrumental
LIB_TAG_IGNORE_LIST=pop,popular,christmas,instrumental,soundtrack,classical,live,acoustic,american,singer-songwriter,experimental,female vocalists,male vocalists,alternative,indie,indie rock,usa

# Tag Blacklist: Completely filter out artists with any of these tags
# Artists with even one blacklisted tag will never be recommended
# Use this for genres/styles you absolutely don't want to see
# Example: pop,country,christmas,edm
REC_TAG_BLACKLIST=pop,k-pop,kpop

# Tag Blacklist Top N Tags: Only check top N tags when filtering by blacklist
# 0 or "all" = check all tags (default, most restrictive)
# 1 = only filter if blacklisted tag is the artist's #1 tag
# 3 = only filter if blacklisted tag is in top 3 tags
# 10 = only filter if blacklisted tag is in top 10 tags
# Higher values = more restrictive filtering, lower values = allow artists with minor blacklisted tags
REC_TAG_BLACKLIST_TOP_N_TAGS=8

# Exclude from Taste Profile: Artists in your library that won't be used to generate recommendations
# These artists will be ignored when building your taste profile (won't count as "loved")
# Useful for excluding artists you listen to but don't want to influence recommendations
LIB_ARTISTS_IGNORE=Taylor Swift,Metallica,Drake,Kanye West

# Artist Blacklist: Artists that will never be recommended
# Useful for artists that you explicitly don't want to discover
REC_ARTISTS_BLACKLIST=Taylor Swift,Beyonc√©,Drake,Kanye West

# Apple Music Integration (Optional)
# Scrape direct song links from Apple Music's web catalogue
# Generates clickable links to songs in recommendations.md
# Note: Automatic playlist import doesn't work for streaming tracks -
# use the song links to manually add tracks you like
CREATE_PLAYLIST=true

# Number of songs to scrape per recommended artist (generates direct song links in output)
PLAYLIST_SONGS_PER_ARTIST=2

# Parallel scraping batch size for Apple Music catalogue search (default: 5)
# Higher values = faster but more resource intensive
AM_SCRAPE_BATCH_SIZE=5

# Playlist merge mode: if true, adds new songs to existing playlist without duplicates
# If false, deletes and recreates playlist each time (default: true)
PLAYLIST_MERGE_MODE=true

# INTERACTIVE FILTERING (Optional)
# Show interactive TUI menu to review and filter recommendations before saving
# Rejected artists are cached and won't be recommended again
CLI_INTERACTIVE_FILTERING=true

# HTML VISUALISATION (Optional)
# Generate an interactive HTML visualisation showing recommendation connections
HTML_VISUALISATION=false

# Scoring Weights (only used when advanced features enabled, must sum to 1.0)
# Frequency: How many of your artists recommend this
# Tag Overlap: How well tags match your music profile
# Match Score: Last.fm's similarity rating
# Rarity: Artist obscurity (inverse of listener count)
SCORING_FREQUENCY_WEIGHT=0.3
SCORING_TAG_OVERLAP_WEIGHT=0.3
SCORING_MATCH_WEIGHT=0.2
SCORING_RARITY_WEIGHT=0.2
